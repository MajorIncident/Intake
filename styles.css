/* [vars] start */
/* Theme palette and layout constants shared across the intake sections. */
:root{
  /* Apple-like daytime palette */
  --bg:#f5f7fb;
  --panel:#ffffff;
  --ink:#0c1220;
  --muted:#5b6475;
  --line:#e6eaf2;
  --band:#f6f8fc;
  --accent:#007aff;

  /* Layout */
  --qcol-w:10.5rem;     /* narrow KT Question column */
  --ta-fs:15px;         /* textarea font size */
  --ta-min-h:190px;     /* taller by default */
  --radius:14px;
  --shadow:0 8px 24px rgba(12,18,32,.08), 0 1px 0 rgba(255,255,255,.6) inset;
  --speed:.22s;
}
/* [vars] end */

html,body{height:100%;}
body{
  margin:0; background:var(--bg); color:var(--ink);
  font-family:"SF Pro Text","SF Pro Display",-apple-system,system-ui,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;
  font-size:15px; line-height:1.6; letter-spacing:-0.01em;
}
header{
  max-width:1240px; margin:22px auto 8px; padding:0 12px;
  display:flex; gap:12px; align-items:center; justify-content:space-between;
}
.header-title{display:flex; flex-direction:column; gap:4px; flex:1;}
h1#docTitle{font-size:22px; font-weight:800; margin:0; letter-spacing:-0.01em; white-space:pre-wrap;}
.subtle{color:var(--muted); font-size:12px;}
.btn{
  appearance:none; border:1px solid var(--line); background:var(--accent); color:#fff;
  padding:10px 14px; border-radius:12px; cursor:pointer; font-weight:600;
  transition:transform var(--speed), box-shadow var(--speed), border-color var(--speed);
  box-shadow:0 6px 18px rgba(0,122,255,.18);
}
.btn:hover{transform:translateY(-1px);}
.header-actions{display:flex; align-items:center; gap:10px; flex-wrap:wrap; justify-content:flex-end;}
.steps-button{
  appearance:none; border:1px solid #dfe5f2; background:#f6f8ff; color:#1d2845;
  padding:9px 14px; border-radius:12px; font-weight:600; font-size:13px;
  display:inline-flex; align-items:center; gap:8px; cursor:pointer;
  transition:background var(--speed), border-color var(--speed), transform var(--speed), box-shadow var(--speed);
}
.steps-button:hover{background:#eef3ff; transform:translateY(-1px);}
.steps-button:focus{outline:none; border-color:var(--accent); box-shadow:0 0 0 3px rgba(0,122,255,.18);}
.steps-button span.shortcut{color:#6b768a; font-size:12px;}
.steps-badge{
  display:inline-flex; align-items:center; justify-content:center;
  padding:6px 12px; border-radius:999px; background:#eef3ff; color:#1d2845;
  font-weight:600; font-size:13px; min-width:88px; font-variant-numeric:tabular-nums;
}
.steps-badge[hidden]{display:none;}
.steps-backdrop{
  position:fixed; inset:0; background:rgba(12,18,32,.32);
  opacity:0; pointer-events:none; transition:opacity var(--speed);
  z-index:80;
}
.steps-backdrop.is-open{opacity:1; pointer-events:auto;}
.steps-drawer{
  position:fixed; top:0; right:0; height:100%; width:400px; max-width:100%;
  background:#ffffff; border-left:1px solid #dfe5f2; box-shadow:-20px 0 48px rgba(12,18,32,.18);
  transform:translateX(100%); transition:transform var(--speed);
  z-index:90; display:flex; flex-direction:column;
}
.steps-drawer.is-open{transform:translateX(0);}
.steps-drawer__panel{display:flex; flex-direction:column; height:100%;}
.steps-drawer__header{
  padding:24px; border-bottom:1px solid #ecf0f8;
  background:linear-gradient(180deg,#f8faff 0%,#ffffff 60%);
  display:flex; flex-direction:column; gap:12px;
}
.steps-drawer__title-row{display:flex; align-items:center; justify-content:space-between; gap:12px;}
.steps-drawer__title{margin:0; font-size:18px; font-weight:700; color:#1d2845; letter-spacing:-0.01em;}
.steps-drawer__progress{font-size:14px; font-weight:600; color:#3b4962;}
.steps-drawer__body{flex:1; overflow:auto; padding:24px; display:flex; flex-direction:column; gap:18px;}
.steps-category{border:1px solid #e2e7f3; border-radius:14px; background:#f8faff; padding:0; overflow:hidden;}
.steps-category summary{list-style:none;}
.steps-category summary::-webkit-details-marker{display:none;}
.steps-category__header{
  display:flex; align-items:center; justify-content:space-between; gap:12px;
  padding:16px 18px; cursor:pointer; position:relative;
}
.steps-category__header:focus{outline:none; box-shadow:0 0 0 3px rgba(0,122,255,.18); border-radius:10px;}
.steps-category__header-text{display:flex; flex-direction:column; gap:4px;}
.steps-category__phase{font-size:12px; font-weight:700; letter-spacing:.08em; text-transform:uppercase; color:#6b768a;}
.steps-category__name{font-size:15px; font-weight:600; color:#1d2845; letter-spacing:-0.01em;}
.steps-category__chevron{
  width:22px; height:22px; border-radius:999px; background:#eef3ff;
  display:inline-flex; align-items:center; justify-content:center; font-size:11px;
  color:#3b4962; transition:transform var(--speed);
}
.steps-category[open] .steps-category__chevron{transform:rotate(180deg);}
.steps-category__items{padding:12px 18px 18px; display:flex; flex-direction:column; gap:12px; background:#ffffff;}
.steps-item{display:flex; align-items:flex-start; gap:12px;}
.steps-item input[type="checkbox"]{
  appearance:none; width:20px; height:20px; border-radius:6px;
  border:2px solid #cdd6eb; background:#ffffff; cursor:pointer;
  display:inline-flex; align-items:center; justify-content:center;
  transition:background var(--speed), border-color var(--speed), box-shadow var(--speed);
}
.steps-item input[type="checkbox"]:focus{outline:none; box-shadow:0 0 0 3px rgba(0,122,255,.18);}
.steps-item input[type="checkbox"]:checked{background:#0f864a; border-color:#0f864a;}
.steps-item input[type="checkbox"]:checked::after{content:'✓'; font-size:13px; font-weight:700; color:#ffffff;}
.steps-item label{font-size:14px; font-weight:600; color:#1d2845; cursor:pointer; line-height:1.55;}
.steps-item input[type="checkbox"]:checked + label{color:#0f5b2f;}
.steps-drawer__footer{padding:16px 24px; border-top:1px solid #ecf0f8; background:#ffffff; display:flex; justify-content:flex-end;}
.steps-drawer__close-btn{
  appearance:none; border:1px solid #dfe5f2; background:#f6f8ff; color:#1d2845;
  padding:9px 16px; border-radius:10px; font-weight:600; cursor:pointer;
  transition:background var(--speed), border-color var(--speed);
}
.steps-drawer__close-btn:hover{background:#eef3ff;}
.steps-drawer__close-btn:focus{outline:none; border-color:var(--accent); box-shadow:0 0 0 3px rgba(0,122,255,.18);}
@media (max-width:640px){
  .steps-drawer{width:100%; border-radius:0; box-shadow:none;}
}
body.steps-drawer-open{overflow:hidden;}
.comms-backdrop{
  position:fixed; inset:0; background:rgba(12,18,32,.32);
  opacity:0; pointer-events:none; transition:opacity var(--speed);
  z-index:85;
}
.comms-backdrop.is-open{opacity:1; pointer-events:auto;}
.comms-drawer{
  position:fixed; top:0; right:0; height:100%; width:540px; max-width:100%;
  background:#ffffff; border-left:1px solid #dfe5f2; box-shadow:-24px 0 60px rgba(12,18,32,.16);
  transform:translateX(100%); transition:transform var(--speed);
  z-index:95; display:flex; flex-direction:column;
}
.comms-drawer.is-open{transform:translateX(0);}
.comms-drawer__panel{display:flex; flex-direction:column; height:100%;}
.comms-drawer__header{
  padding:24px; border-bottom:1px solid #ecf0f8;
  background:linear-gradient(180deg,#f8faff 0%,#ffffff 65%);
  display:flex; align-items:flex-start; justify-content:space-between; gap:18px;
}
.comms-drawer__title-group{display:flex; flex-direction:column; gap:6px; max-width:360px;}
.comms-drawer__title{margin:0; font-size:20px; font-weight:700; color:#1d2845; letter-spacing:-0.01em;}
.comms-drawer__subtitle{margin:0; font-size:13px; color:var(--muted); line-height:1.5;}
.comms-drawer__body{
  flex:1; min-height:0; overflow:auto; padding:24px; display:flex; flex-direction:column; gap:24px;
  background:linear-gradient(180deg,#f9fbff 0%,#ffffff 32%);
}
.comms-card{margin:0;}
.comms-drawer__close-btn{
  appearance:none; border:1px solid #dfe5f2; background:#f6f8ff; color:#1d2845;
  padding:9px 16px; border-radius:10px; font-weight:600; cursor:pointer;
  transition:background var(--speed), border-color var(--speed), transform var(--speed);
}
.comms-drawer__close-btn:hover{background:#eef3ff; transform:translateY(-1px);}
.comms-drawer__close-btn:focus{outline:none; border-color:var(--accent); box-shadow:0 0 0 3px rgba(0,122,255,.18);}
body.comms-drawer-open{overflow:hidden;}
.drawer-placeholder{margin:0 0 32px;}
@media (max-width:720px){
  .comms-drawer{width:100%; border-radius:0; box-shadow:none;}
}
.wrap{max-width:1240px; margin:0 auto 40px; padding:0 12px;}
h2#docSubtitle{margin:12px 0 8px; font-size:16px; font-weight:700; color:#2a3957; white-space:pre-wrap;}

.card{
  background:var(--panel); border:1px solid var(--line); border-radius:var(--radius); box-shadow:var(--shadow);
  padding:20px 22px 24px; margin:0 0 32px;
}
.card h3{
  margin:0 0 16px;
  font-family:"SF Pro Display","SF Pro Text",-apple-system,system-ui,ui-sans-serif;
  font-size:15px; font-weight:700; letter-spacing:.32px; text-transform:uppercase; color:#1d2845;
}
.preface-stack{display:flex; flex-direction:column;}
.grid{ display:grid; gap:12px; }
.grid.cols-2{ grid-template-columns:1fr 1fr; }
.grid.cols-3{ grid-template-columns:1fr 1fr 1fr; }
.containment-grid{ margin-top:32px; }
.containment-grid .contain-status{ grid-column:1 / -1; }
.containment-grid .containment-description{ grid-column:1 / -1; margin-top:12px; }
.containment-radios{ display:flex; flex-wrap:wrap; gap:12px; }
.radio-option{ display:flex; align-items:center; gap:6px; }
.comm-grid{ grid-template-columns:1fr 1fr auto; align-items:end; }
.comm-grid .field{ margin:0; }
.comm-grid .field label{ margin-bottom:4px; }
.comm-grid.comm-grid--single{ grid-template-columns:1fr; }
.comm-log-toggle{ margin-top:8px; align-self:flex-start; display:inline-flex; align-items:center; }
.inline{ display:flex; align-items:center; gap:12px; flex-wrap:wrap; }
.chipset{ display:flex; gap:8px; flex-wrap:wrap; }
.chipset .chip{ position:relative; display:flex; align-items:center; gap:6px; }
.chipset .chip label{ display:inline-flex; align-items:center; justify-content:center; padding:8px 12px; border-radius:999px; border:1px solid #dfe5f2; background:#f7f9ff; font-weight:600; font-size:13px; color:#1d2845; cursor:pointer; transition:border-color var(--speed), box-shadow var(--speed), background var(--speed); }
.chipset .chip input[type="checkbox"]{ position:absolute; top:0; left:0; opacity:0; pointer-events:none; width:1px; height:1px; }
.chipset .chip input[type="checkbox"]:focus + label{ border-color:var(--accent); box-shadow:0 0 0 3px rgba(0,122,255,.18); }
.chipset .chip input[type="checkbox"]:checked + label{ border-color:var(--accent); background:rgba(0,122,255,.1); color:var(--accent); }
.chip-label{ font-weight:700; color:#1d2845; min-width:150px; flex:0 0 auto; }
.caption{ margin:-6px 0 16px; font-size:12px; color:var(--muted); }
.gap-24{ gap:24px; }
.field label{display:block; font-weight:700; margin-bottom:6px;}
.field small{display:block; color:var(--muted); margin-top:4px;}
fieldset.field{border:0; padding:0; margin:0;}
fieldset.field legend{font-weight:700; margin-bottom:6px; font-size:14px; color:#1d2845;}
.field textarea, .field input[type="text"]{
  width:100%; box-sizing:border-box;
  font:15px/1.55 ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
  color:var(--ink); background:#f9fbff;
  border:1px solid #dfe5f2; border-radius:12px; padding:12px 14px; outline:none;
  transition:border-color var(--speed), box-shadow var(--speed), background var(--speed);
}
.field textarea{min-height:140px; resize:vertical;}
#oneLine,
#proof,
#objectPrefill,
#healthy,
#now,
#impactNow,
#impactFuture,
#impactTime{
  min-height:120px;
  height:auto;
}
.field input[type="text"]{height:44px;}
.field input[readonly]{background:#f4f6fb; color:#3b4962;}
.field input[type="time"], .field select{
  width:100%; box-sizing:border-box; height:44px;
  font:15px/1.55 "SF Pro Text","SF Pro Display",-apple-system,system-ui,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;
  color:var(--ink); background:#f9fbff;
  border:1px solid #dfe5f2; border-radius:12px; padding:8px 12px; outline:none;
  transition:border-color var(--speed), box-shadow var(--speed), background var(--speed);
}
.field input[type="time"]:focus, .field select:focus{border-color:var(--accent); box-shadow:0 0 0 4px rgba(0,122,255,.18); background:#fff;}
.btn-mini{
  appearance:none; border:1px solid #dfe5f2; background:#eef3ff; color:var(--accent);
  padding:8px 12px; border-radius:10px; cursor:pointer; font-weight:600; font-size:13px;
  transition:transform var(--speed), box-shadow var(--speed), border-color var(--speed);
  box-shadow:0 4px 12px rgba(0,122,255,.12);
}
.btn-mini:hover{transform:translateY(-1px);}
.btn-mini:focus{outline:none; border-color:var(--accent); box-shadow:0 0 0 4px rgba(0,122,255,.18);}
.btn-mini.btn-ghost{
  background:#f7f9ff; color:#3b4962; border-color:#e2e7f3; box-shadow:none;
}
.btn-mini.btn-ghost:hover{background:#eef3ff;}
.btn-mini.btn-danger{
  background:#ffeceb; color:#c0362c; border-color:#ffc3bb; box-shadow:0 4px 12px rgba(255,107,74,.12);
}
.btn-mini.btn-danger:hover{background:#ffdcd4;}
.field textarea::placeholder, .field input::placeholder{color:#8b93a4;}
.field textarea:focus, .field input:focus{border-color:var(--accent); box-shadow:0 0 0 4px rgba(0,122,255,.18); background:#fff;}

.card.communication-due{ border-color:#ff9a8a; background:linear-gradient(180deg,#fff4f2 0%,#ffffff 35%); box-shadow:0 10px 28px rgba(255,107,74,.18); }
.communication-due .countdown{ color:#d91f11; }

.cadence-group{ display:flex; gap:8px; flex-wrap:wrap; }
.cadence-option{ position:relative; }
.cadence-option input[type="radio"]{ position:absolute; inset:0; opacity:0; }
.cadence-option span{ display:inline-flex; align-items:center; justify-content:center; padding:8px 14px; border-radius:999px; border:1px solid #dfe5f2; background:#f7f9ff; font-weight:600; font-size:13px; color:#1d2845; cursor:pointer; transition:border-color var(--speed), box-shadow var(--speed), background var(--speed); }
.cadence-option input[type="radio"]:focus + span{ border-color:var(--accent); box-shadow:0 0 0 3px rgba(0,122,255,.18); }
.cadence-option input[type="radio"]:checked + span{ border-color:var(--accent); background:rgba(0,122,255,.1); color:var(--accent); }

.comm-actions{ gap:10px; justify-content:flex-start; }
.comm-actions .countdown{ font-weight:600; color:#2a3957; min-width:96px; }

.comm-alert{ margin-top:10px; padding:10px 12px; border-radius:12px; background:#fff2f0; border:1px solid #ffd0c7; color:#b71c1c; font-weight:600; display:flex; align-items:center; gap:8px; }

.comm-log{ list-style:none; padding:0; margin:12px 0 0; display:flex; flex-direction:column; gap:8px; }
.comm-log li{ display:flex; justify-content:space-between; align-items:center; gap:12px; padding:10px 12px; border-radius:12px; background:#f7f9ff; border:1px solid #e2e7f3; font-size:13px; }
.comm-log__type{ font-weight:700; text-transform:uppercase; letter-spacing:.04em; color:#1d2845; }
.comm-log__time{ font-variant-numeric:tabular-nums; color:#2a3957; }
.comm-log__message{ flex:1; color:#3b4962; font-size:12px; }
.comm-log__empty{ justify-content:flex-start; color:#7a8398; font-style:italic; }

/* Impact strip */
.impact{ padding:18px; }
.impact > h3{
  margin:0 0 18px;
  font-size:17px;
  font-weight:700;
  letter-spacing:-0.02em;
  color:#1f2b40;
  font-family:"SF Pro Display","SF Pro Text",-apple-system,system-ui,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;
}
.impact .field{padding:4px 0;}
.impact .field h3{
  margin:0 0 6px;
  font-size:15px;
  font-weight:600;
  letter-spacing:-0.015em;
  color:#22324b;
  font-family:"SF Pro Display","SF Pro Text",-apple-system,system-ui,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;
}
.impact .field label{
  font-size:13px;
  font-weight:600;
  letter-spacing:-0.01em;
  color:#3b4962;
  margin-bottom:8px;
}
.impact .field small{
  font-size:12px;
  line-height:1.55;
  letter-spacing:0;
}
.impact textarea{
  font-family:"SF Pro Text","SF Pro Display",-apple-system,system-ui,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;
  font-size:14px;
  line-height:1.6;
  letter-spacing:-0.01em;
}

/* Table */
table{
  table-layout:fixed;
  
  width:100%; border-collapse:separate; border-spacing:0; overflow:hidden; border-radius:var(--radius);
  background:var(--panel); border:1px solid var(--line); box-shadow:var(--shadow);
}
thead th{
  word-wrap:break-word;
  white-space:normal;
  
  position:sticky; top:0; z-index:3;
  background:linear-gradient(180deg, #ffffff, #fafbfe);
  color:#0c1220; text-align:left; font-size:12px; letter-spacing:.4px;
  padding:12px; border-bottom:1px solid var(--line);
}
tbody td, tbody th{
  border-bottom:1px solid var(--line); vertical-align:top; padding:10px 8px; transition:background-color var(--speed);
}
tbody tr:last-child td, tbody tr:last-child th{border-bottom:0;}
tbody tr:hover td, tbody tr:hover th{background-color:#fafbfe;}
tbody th{
  width:var(--qcol-w); max-width:var(--qcol-w); min-width:var(--qcol-w);
  white-space:normal; word-break:break-word; font-weight:700; color:#0c1220;
}
.cause-list{display:flex; flex-direction:column; gap:16px; margin-top:12px; margin-bottom:18px;}
.cause-empty{padding:18px; border:1px dashed #dfe5f2; border-radius:12px; background:#f9fbff; color:#5b6475; font-style:italic;}
.cause-card{
  border:1px solid #e2e7f3; border-radius:14px; background:linear-gradient(180deg,#ffffff 0%,#f8faff 100%);
  padding:18px 20px; display:flex; flex-direction:column; gap:12px; position:relative;
}
.cause-card[data-editing="true"]{border-color:var(--accent); box-shadow:0 0 0 4px rgba(0,122,255,.12);}
.cause-card[data-failed="true"]{border-color:#ffb3a9; box-shadow:0 0 0 4px rgba(255,107,74,.16);}
.cause-card__header{display:flex; justify-content:space-between; align-items:flex-start; gap:12px;}
.cause-card__meta{display:flex; flex-direction:column; gap:4px;}
.cause-card__title{font-weight:700; font-size:14px; color:#1d2845; letter-spacing:.02em;}
.cause-card__status{font-size:12px; color:var(--muted); letter-spacing:.02em;}
.cause-card__indicators{display:flex; flex-direction:column; align-items:flex-end; gap:6px;}
.cause-card__chip{display:inline-flex; align-items:center; justify-content:center; padding:6px 12px; border-radius:999px; font-weight:600; font-size:12px; letter-spacing:.03em; text-transform:uppercase; border:1px solid transparent; background:#f2f4fb; color:#3b4962;}
.cause-card__chip[data-status="not-tested"]{background:#f2f4fb; color:#3b4962; border-color:#dfe5f2;}
.cause-card__chip[data-status="testing"]{background:#fff6e6; color:#7b4b00; border-color:#f3d2a2;}
.cause-card__chip[data-status="explained"]{background:#e6f9ef; color:#0f5b2f; border-color:#b8e8cd;}
.cause-card__chip[data-status="failed"]{background:#ffe8e6; color:#b71c1c; border-color:#ffb3a9;}
.cause-card__chip[data-status="draft"]{background:#f5f7fb; color:#6b768a; border-color:#e2e7f3;}
.cause-card__chip[data-status="no-evidence"]{background:#eef3ff; color:#1d2845; border-color:#d5def5;}
.cause-card__failure{display:inline-flex; align-items:center; gap:6px; padding:4px 10px; border-radius:999px; font-weight:600; font-size:12px; letter-spacing:.02em; background:#ffe8e6; color:#b71c1c; border:1px solid #ffb3a9;}
.cause-card__failure::before{content:'✕'; font-size:13px; line-height:1;}
.cause-card__assumptions{display:inline-flex; align-items:center; gap:6px; padding:4px 10px; border-radius:999px; font-weight:600; font-size:12px; letter-spacing:.02em; background:#f1f4ff; color:#1d2845; border:1px solid #d5def5;}
.cause-card__assumptions::before{content:'∑'; font-size:13px; line-height:1; color:#3b4d7a;}
.cause-card__summary{margin:0; font-size:14px; line-height:1.6; color:#1f2b40;}
.cause-card__helper{margin-top:-6px;}
.cause-card__actions{display:flex; gap:6px; flex-wrap:wrap; justify-content:flex-end;}
.cause-card__actions .btn-mini{padding-inline:12px;}
.cause-card__form{display:grid; gap:14px;}
.cause-card__form .field textarea{min-height:120px;}
.cause-controls{display:flex; gap:8px; flex-wrap:wrap; margin-top:4px;}
.cause-test{border-top:1px solid #e2e7f3; padding-top:14px; display:flex; flex-direction:column; gap:12px;}
.cause-test__intro{margin:0; font-size:13px; color:#3b4962;}
.cause-eval-row{border:1px solid #e3e8f5; border-radius:12px; background:#f9fbff; padding:14px; display:flex; flex-direction:column; gap:12px;}
.cause-eval-question-text{font-weight:600; font-size:13px; color:#1f2b40;}
.cause-evidence-wrap{display:grid; gap:10px; grid-template-columns:repeat(auto-fit, minmax(180px,1fr));}
.cause-evidence-block{display:flex; flex-direction:column; gap:4px; padding:10px; border-radius:10px; background:#ffffff; border:1px solid #e6ebf5;}
.cause-evidence-label{font-size:11px; text-transform:uppercase; letter-spacing:.08em; color:#7a8398; font-weight:700;}
.cause-evidence-text{font-size:13px; line-height:1.5; color:#22324b; white-space:pre-line;}
.cause-eval-inputs{display:flex; flex-direction:column; gap:12px;}
.cause-eval-options{display:flex; flex-wrap:wrap; gap:8px;}
.cause-eval-option{appearance:none; border:1px solid #dfe5f2; background:#ffffff; color:#1d2845; font-weight:600; font-size:13px; padding:8px 14px; border-radius:999px; cursor:pointer; transition:background var(--speed), border-color var(--speed), color var(--speed), box-shadow var(--speed);}
.cause-eval-option:hover{border-color:var(--accent);}
.cause-eval-option:focus{outline:none; border-color:var(--accent); box-shadow:0 0 0 4px rgba(0,122,255,.18);}
.cause-eval-option.is-selected{background:rgba(0,122,255,.12); border-color:var(--accent); color:var(--accent); box-shadow:0 6px 16px rgba(0,122,255,.12);}
.cause-eval-note{display:flex; flex-direction:column; gap:6px;}
.cause-eval-note[hidden]{display:none;}
.cause-eval-inputs .field textarea{min-height:120px;}
.cause-evidence-empty{padding:12px; border-radius:10px; background:#f7f9ff; color:#5b6475; font-size:13px;}
@media (max-width:720px){
  .cause-card{padding:16px;}
}
.kt-focus-toggle{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:4px;
  border:1px solid #dfe4f2;
  border-radius:999px;
  background:rgba(223,228,242,.4);
  margin:0 0 12px;
}
.kt-focus-toggle button{
  appearance:none;
  border:1px solid transparent;
  background:transparent;
  color:#1d2845;
  font-weight:600;
  font-size:13px;
  padding:6px 12px;
  border-radius:999px;
  cursor:pointer;
  transition:background var(--speed), color var(--speed), border-color var(--speed), box-shadow var(--speed);
}
.kt-focus-toggle button:hover{
  background:rgba(0,122,255,.08);
  color:var(--accent);
}
.kt-focus-toggle button:focus{
  outline:none;
  border-color:var(--accent);
  box-shadow:0 0 0 3px rgba(0,122,255,.18);
}
.kt-focus-toggle button.is-active{
  background:var(--accent);
  color:#ffffff;
  border-color:var(--accent);
  box-shadow:0 8px 20px rgba(0,122,255,.22);
}
.band th{
  padding:12px; font-weight:800; color:#2a3957;
  background:linear-gradient(180deg, var(--band), #ffffff);
  border-top:1px solid var(--line); border-bottom:1px solid var(--line);
}
.band th span{opacity:.85; font-weight:600; color:#6b768a}
#ktTable tbody tr[data-priority] > th{
  position:relative;
  background-clip:padding-box;
  padding-left:8px;
}
#ktTable tbody tr[data-priority="p1"] > th{background:linear-gradient(90deg, rgba(0,122,255,.16), rgba(0,122,255,0)); color:#13315b;}
#ktTable tbody tr[data-priority="p2"] > th{background:linear-gradient(90deg, rgba(0,122,255,.1), rgba(0,122,255,0));}
#ktTable tbody tr[data-priority] > th::before{
  content:'';
  position:absolute;
  left:0;
  top:6px;
  bottom:6px;
  width:4px;
  border-radius:999px;
  background:rgba(0,122,255,.24);
  pointer-events:none;
}
#ktTable tbody tr[data-priority="p2"] > th::before{background:rgba(0,122,255,.16);}
textarea.tableta{
  width:100%; min-height:var(--ta-min-h); resize:vertical; box-sizing:border-box;
  font:var(--ta-fs)/1.55 ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
  color:var(--ink); background:#f9fbff;
  border:1px solid #dfe5f2; border-radius:12px; padding:12px 14px; outline:none;
  transition:border-color var(--speed), box-shadow var(--speed), background var(--speed);
}
textarea.tableta::placeholder{color:#8b93a4;}
textarea.tableta:focus{border-color:var(--accent); box-shadow:0 0 0 4px rgba(0,122,255,.18); background:#ffffff;}

/* Toast */
.toast{
  position:fixed; right:18px; bottom:18px; background:#0f1a10; color:#dff5e1; border:1px solid #164f19;
  padding:10px 12px; border-radius:12px; opacity:0; transform:translateY(10px); transition:.25s; pointer-events:none; box-shadow:var(--shadow);
}
.toast.show{opacity:1; transform:translateY(0);}
