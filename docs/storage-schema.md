# Storage Schema

_Auto-generated by `scripts/update-storage-docs.js`. Do not edit this file manually._

- Current `APP_STATE_VERSION`: 1
- Total tracked fields: 44

## Migrations

| From version | Migrator |
| --- | --- |
| 0 | `migrateLegacyState` |

## Field definitions

| Field | Type | Introduced |
| --- | --- | --- |
| `actions` | object | 1 |
| `actions.analysisId` | string | 1 |
| `actions.items` | array | 1 |
| `causes` | array | 1 |
| `impact` | object | 1 |
| `impact.future` | string | 1 |
| `impact.now` | string | 1 |
| `impact.time` | string | 1 |
| `likelyCauseId` | null | 1 |
| `meta` | object | 1 |
| `meta.savedAt` | null | 1 |
| `meta.version` | number | 1 |
| `ops` | object | 1 |
| `ops.bcName` | string | 1 |
| `ops.bridgeOpenedUtc` | string | 1 |
| `ops.commCadence` | string | 1 |
| `ops.commLog` | array | 1 |
| `ops.commNextDueIso` | string | 1 |
| `ops.commNextUpdateTime` | string | 1 |
| `ops.containDesc` | string | 1 |
| `ops.containStatus` | string | 1 |
| `ops.detectAutomation` | boolean | 1 |
| `ops.detectMonitoring` | boolean | 1 |
| `ops.detectOther` | boolean | 1 |
| `ops.detectUserReport` | boolean | 1 |
| `ops.evLogs` | boolean | 1 |
| `ops.evMetrics` | boolean | 1 |
| `ops.evOther` | boolean | 1 |
| `ops.evRepro` | boolean | 1 |
| `ops.evScreenshot` | boolean | 1 |
| `ops.icName` | string | 1 |
| `ops.semOpsName` | string | 1 |
| `ops.severity` | string | 1 |
| `ops.tableFocusMode` | string | 1 |
| `pre` | object | 1 |
| `pre.healthy` | string | 1 |
| `pre.now` | string | 1 |
| `pre.objectPrefill` | string | 1 |
| `pre.oneLine` | string | 1 |
| `pre.proof` | string | 1 |
| `steps` | object | 1 |
| `steps.drawerOpen` | boolean | 1 |
| `steps.items` | array | 1 |
| `table` | array | 1 |

## Template payloads and drawer workflow

Templates ship as pre-built `SerializedAppState` documents that match the schema above. When the Templates drawer unlocks (the
bridge password is always `${modeKey}${currentMinute}`, e.g., `full07`), the app calls `collectAppState()` to snapshot the in-pr
ogress work, applies the manifest payload via `applyAppState()`, and therefore flows through the same persistence contract as **
Save to File** / **Load from File**. Treat template selection like importing a JSON export: save first if you need to preserve the
previous state because the template fully replaces the `kt-intake-full-v2` record in memory and in storage.
